<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Valentine</title>

  <!-- Fuentes elegantes -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

  <style>
    *{
      margin:0;
      padding:0;
      box-sizing:border-box;
    }

    body{
      min-height:100vh;
      background: radial-gradient(circle at top, #1a1a1a, #000000);
      display:flex;
      justify-content:center;
      align-items:center;
      overflow:hidden;
      color:white;
      font-family: "Playfair Display", serif;
      padding:20px;
    }

    /* Brillo suave fondo cuando dice que s√≠ */
    body.glow{
      animation: glowBg 3s ease-in-out infinite;
    }

    @keyframes glowBg{
      0%{
        background: radial-gradient(circle at top, #1a1a1a, #000000);
      }
      50%{
        background: radial-gradient(circle at top, rgba(255,255,255,0.15), #000000);
      }
      100%{
        background: radial-gradient(circle at top, #1a1a1a, #000000);
      }
    }

    /* Part√≠culas */
    .particle{
      position:absolute;
      width:4px;
      height:4px;
      background: rgba(255,255,255,0.15);
      border-radius:50%;
      animation: float 8s linear infinite;
      pointer-events:none;
      z-index: 1;
    }

    /* Corazones flotando */
    .heart{
      position:absolute;
      font-size: 18px;
      color: rgba(255,255,255,0.55);
      animation: heartFloat 9s linear infinite;
      pointer-events:none;
      z-index: 1;
      filter: drop-shadow(0 0 10px rgba(255,255,255,0.15));
    }

    @keyframes float{
      from{
        transform: translateY(0px);
        opacity:0;
      }
      20%{
        opacity:0.5;
      }
      to{
        transform: translateY(-700px);
        opacity:0;
      }
    }

    @keyframes heartFloat{
      from{
        transform: translateY(0px) scale(0.8);
        opacity:0;
      }
      15%{
        opacity:0.6;
      }
      60%{
        opacity:0.5;
      }
      to{
        transform: translateY(-750px) scale(1.3);
        opacity:0;
      }
    }

    .container{
      width:100%;
      max-width:900px;
      min-height:500px;
      border-radius: 22px;
      background: rgba(10,10,10,0.7);
      border: 1px solid rgba(255,255,255,0.12);
      box-shadow: 0 0 60px rgba(255,255,255,0.08);
      padding: 45px;
      position:relative;
      overflow:hidden;
      backdrop-filter: blur(10px);
      animation: fadeIn 1.2s ease;
      z-index: 2;
    }

    @keyframes fadeIn{
      from{opacity:0; transform:scale(0.98);}
      to{opacity:1; transform:scale(1);}
    }

    .main-title{
      font-family: "Great Vibes", cursive;
      font-size: clamp(2.6rem, 5vw, 4rem);
      font-weight: 400;
      text-align:center;
      color: rgba(255,255,255,0.92);
      letter-spacing: 1px;
      margin-top: 50px;
      animation: titleAppear 1.5s ease;
      padding: 0 10px;
    }

    @keyframes titleAppear{
      from{opacity:0; transform:translateY(20px);}
      to{opacity:1; transform:translateY(0);}
    }

    .subtitle{
      text-align:center;
      margin-top: 15px;
      font-size: clamp(0.95rem, 2.5vw, 1.05rem);
      color: rgba(255,255,255,0.7);
      letter-spacing: 1px;
      font-style: italic;
      padding: 0 10px;
    }

    .center{
      display:flex;
      justify-content:center;
      align-items:center;
      flex-direction:column;
      height:100%;
      min-height:400px;
    }

    .btns{
      display:flex;
      justify-content:center;
      gap:14px;
      flex-wrap:wrap;
      margin-top: 30px;
    }

    button{
      padding: 12px 22px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.9);
      cursor:pointer;
      font-size: 0.95rem;
      transition: 0.3s ease;
      font-family: "Playfair Display", serif;
      letter-spacing: 1px;
      text-align:center;
      max-width: 100%;
    }

    button:hover{
      background: rgba(255,255,255,0.12);
      transform: translateY(-2px);
    }

    .hidden{
      display:none;
    }

    .progress{
      text-align:center;
      font-size:0.85rem;
      color: rgba(255,255,255,0.55);
      margin-bottom: 15px;
      letter-spacing:2px;
      text-transform: uppercase;
    }

    .card{
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 18px;
      padding: 25px;
      max-width: 650px;
      margin:  20px auto;
      box-shadow: 0 0 30px rgba(255,255,255,0.06);
      animation: fadeUp 1s ease;
    }

    @keyframes fadeUp{
      from{opacity:0; transform:translateY(25px);}
      to{opacity:1; transform:translateY(0);}
    }

    .card p{
      text-align:center;
      line-height:1.8;
      font-size: clamp(0.98rem, 2.5vw, 1.08rem);
      color: rgba(255,255,255,0.86);
      word-wrap: break-word;
    }

    /* SOBRE */
    .letter-box{
      display:flex;
      justify-content:center;
      margin-top: 25px;
    }

    .envelope{
      width: 420px;
      height: 260px;
      position: relative;
      cursor:pointer;
      border-radius: 18px;
      background: linear-gradient(145deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border: 1px solid rgba(255,255,255,0.18);
      box-shadow: 0 0 45px rgba(255,255,255,0.08);
      overflow:hidden;
      transition: 0.4s ease;
      max-width: 100%;
    }

    .envelope:hover{
      transform: scale(1.02);
      box-shadow: 0 0 70px rgba(255,255,255,0.12);
    }

    .flap{
      position:absolute;
      top:0;
      left:0;
      width:100%;
      height:100%;
      background: linear-gradient(145deg, rgba(255,255,255,0.09), rgba(255,255,255,0.02));
      clip-path: polygon(0 0, 100% 0, 50% 55%);
      transform-origin: top;
      transition: 0.9s ease;
    }

    .paper{
      position:absolute;
      left: 8%;
      width: 84%;
      height: 78%;
      bottom:-100%;
      background: rgba(255,255,255,0.92);
      border-radius: 14px;
      padding: 18px;
      color:#111;
      text-align:center;
      transition: 1s ease;
      font-size: clamp(0.85rem, 2.5vw, 1.05rem);
      line-height: 1.55;
      box-shadow: 0 0 25px rgba(0,0,0,0.3);
      font-family: "Playfair Display", serif;
      overflow-y: auto;
    }

    .paper b{
      font-family: "Great Vibes", cursive;
      font-size: clamp(1.6rem, 5vw, 2.2rem);
      color:#111;
      font-weight: 400;
    }

    .envelope.open .flap{
      transform: rotateX(180deg);
    }

    .envelope.open .paper{
      bottom: 10%;
    }

    input{
      width: 100%;
      max-width: 400px;
      margin-top: 18px;
      padding: 12px 18px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.6);
      color:white;
      font-size:1rem;
      outline:none;
      text-align:center;
      letter-spacing:1px;
    }

    input::placeholder{
      color: rgba(255,255,255,0.4);
    }

    .carousel{
      width:100%;
      max-width:650px;
      margin: 20px auto;
      border-radius: 20px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,0.12);
      box-shadow: 0 0 40px rgba(255,255,255,0.08);
    }

    .carousel img{
      width:100%;
      height: clamp(240px, 50vw, 340px);
      object-fit: cover;
      display:block;
      filter: brightness(0.85);
    }

    .final-question{
      font-family: "Great Vibes", cursive;
      font-size: clamp(2.2rem, 6vw, 3.2rem);
      text-align:center;
      margin-top: 15px;
      color: rgba(255,255,255,0.92);
      padding: 0 10px;
    }

    .final-buttons{
      display:flex;
      justify-content:center;
      gap:20px;
      margin-top: 30px;
      position: relative;
      height: 90px;
      flex-wrap: wrap;
    }

    /* Bot√≥n S√≠ palpitando */
    #yesBtn{
      border: 1px solid rgba(255,255,255,0.25);
      z-index: 2;
      animation: pulse 1.2s infinite;
    }

    @keyframes pulse{
      0%{ transform: scale(1); }
      50%{ transform: scale(1.08); }
      100%{ transform: scale(1); }
    }

    #noBtn{
      position:absolute;
      left:55%;
      top:0;
      background: rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.25);
      z-index: 2;
    }

    .music-btn{
      position:absolute;
      top:20px;
      right:20px;
      padding: 10px 18px;
      font-size:0.85rem;
      border-radius:999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.04);
      color: rgba(255,255,255,0.8);
      cursor:pointer;
      letter-spacing: 2px;
      text-transform: uppercase;
      transition: 0.3s ease;
    }

    .music-btn:hover{
      background: rgba(255,255,255,0.10);
    }

    canvas{
      position:fixed;
      top:0;
      left:0;
      width:100%;
      height:100%;
      pointer-events:none;
      z-index: 10;
    }

    .success-anim{
      animation: successPop 1.3s ease forwards;
    }

    @keyframes successPop{
      0%{
        transform: scale(0.85);
        opacity: 0;
        filter: blur(2px);
      }
      60%{
        transform: scale(1.05);
        opacity: 1;
        filter: blur(0px);
      }
      100%{
        transform: scale(1);
        opacity: 1;
      }
    }

    .falling-heart{
      position: fixed;
      top: -20px;
      font-size: 22px;
      color: rgba(255,255,255,0.75);
      animation: fall 4s linear forwards;
      pointer-events: none;
      z-index: 15;
      filter: drop-shadow(0 0 10px rgba(255,255,255,0.2));
    }

    @keyframes fall{
      from{
        transform: translateY(0px) rotate(0deg);
        opacity: 0;
      }
      15%{
        opacity: 1;
      }
      to{
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }

    @media(max-width:600px){
      .container{
        padding: 25px 18px;
        min-height: 520px;
      }

      .main-title{
        margin-top: 65px;
      }

      .envelope{
        width: 320px;
        height: 230px;
      }

      .paper{
        padding: 14px;
      }

      .final-buttons{
        height: 120px;
      }

      #noBtn{
        left: 60%;
      }

      button{
        width: 100%;
        max-width: 280px;
      }
    }

    @media(max-width:380px){
      .envelope{
        width: 280px;
        height: 220px;
      }

      .music-btn{
        top: 14px;
        right: 14px;
        padding: 8px 14px;
        font-size: 0.75rem;
      }
    }
  </style>
</head>

<body>

  <canvas id="fireworksCanvas" class="hidden"></canvas>

  <div class="container">

    <button class="music-btn" onclick="toggleMusic()">M√∫sica</button>

    <!-- M√∫sica -->
    <audio id="bgMusic" loop>
      <source src="song.mp3" type="audio/mpeg">
    </audio>

    <!-- Sonido campanita -->
    <audio id="bellSound">
      <source src="bell.mp3" type="audio/mpeg">
    </audio>

    <!-- INICIO -->
    <div id="screen1" class="center">
      <div class="main-title">Hola mi pechochihima</div>
      <div class="subtitle">Hice esto solo para ti...</div>

      <div class="btns">
        <button onclick="goToLetter()">Siguiente</button>
      </div>
    </div>

    <!-- CARTA -->
    <div id="screenLetter" class="hidden">
      <div class="progress">Paso 1 / 5</div>
      <h1 style="text-align:center; font-weight:400; letter-spacing:2px;">Una peque√±a carta</h1>
      <p style="text-align:center; color:rgba(255,255,255,0.7); margin-top:12px;">
        (Da click en el sobre, mi amor).
      </p>

      <div class="letter-box">
        <div class="envelope" id="envelope" onclick="openLetter()">
          <div class="flap"></div>
          <div class="paper">
            <b>Para ti.</b>
            <br><br>
            T√∫ eres para m√≠ todo lo que siempre quise tener cerca‚Ä¶
            alguien con quien compartir risas, sue√±os y momentos simples,
            pero que se sienten enormes cuando estoy contigo.
            <br><br>
            Gracias por existir, por ser t√∫,
            y por hacer mis d√≠as m√°s bonitos sin siquiera intentarlo.
            <br><br>
            Te amo.
          </div>
        </div>
      </div>

      <div class="btns">
        <button onclick="goToChoices()">Siguiente</button>
      </div>
    </div>

    <!-- ELECCI√ìN -->
    <div id="screen2" class="hidden">
      <div class="progress">Paso 2 / 5</div>
      <h1 style="text-align:center; font-weight:400; letter-spacing:2px;">Escoge tu camino...</h1>
      <p style="text-align:center; color:rgba(255,255,255,0.7); margin-top:12px;">
        ¬øQu√© es lo primero que quieres ver?
      </p>

      <div class="btns">
        <button onclick="choosePath('path1')">Algo dulce</button>
        <button onclick="choosePath('path2')">Algo rom√°ntico</button>
        <button onclick="choosePath('path3')">Algo gracioso</button>
      </div>
    </div>

    <!-- PATHS -->
    <div id="path1" class="hidden">
      <div class="progress">Paso 3 / 5</div>
      <h1 style="text-align:center; font-weight:400; letter-spacing:2px;">Algo dulce</h1>
      <div class="card">
        <p>
          Me encanta tu forma de ser‚Ä¶<br>
          tu presencia, tu energ√≠a y tu esencia.<br><br>
          Hay algo en ti que se siente tranquilo
          (aunque a veces te den tus arranques)
          y al mismo tiempo muy especial.<br><br>
          Y sinceramente‚Ä¶
          cada vez que hablo contigo,
          siento que el d√≠a se vuelve mejor.
        </p>
      </div>
      <div class="btns">
        <button onclick="goToQuiz()">Siguiente</button>
      </div>
    </div>

    <div id="path2" class="hidden">
      <div class="progress">Paso 3 / 5</div>
      <h1 style="text-align:center; font-weight:400; letter-spacing:2px;">Algo rom√°ntico</h1>
      <div class="card">
        <p>
          Hay personas que llegan por casualidad‚Ä¶<br>
          pero se quedan por destino.<br><br>
          Me gusta la idea de que t√∫ y yo
          podamos escribir algo bonito,
          algo real, algo especial.<br><br>
          Y si te soy sincero‚Ä¶
          yo quiero que seas parte de mis d√≠as.
        </p>
      </div>
      <div class="btns">
        <button onclick="goToQuiz()">Siguiente</button>
      </div>
    </div>

    <div id="path3" class="hidden">
      <div class="progress">Paso 3 / 5</div>
      <h1 style="text-align:center; font-weight:400; letter-spacing:2px;">Algo gracioso</h1>
      <div class="card">
        <p>
          Intent√© ser serio al hacer esto‚Ä¶<br>
          pero no puedo <br><br>
          Porque cuando pienso en ti
          me pongo bien tonto.<br><br>
          Diagn√≥stico oficial:
          me gustas demasiado.
        </p>
      </div>
      <div class="btns">
        <button onclick="goToQuiz()">Siguiente</button>
      </div>
    </div>

    <!-- QUIZ -->
    <div id="quizScreen" class="hidden">
      <div class="progress">Paso 4 / 5</div>
      <h1 style="text-align:center; font-weight:400; letter-spacing:2px;">Una pregunta</h1>
      <div class="card">
        <p>Si t√∫ eligieras nuestra cita perfecta‚Ä¶<br>¬øqu√© ser√≠a?</p>
        <div style="display:flex; justify-content:center;">
          <input id="answer" placeholder="Cena... cafecito... cine..." />
        </div>
      </div>
      <div class="btns">
        <button onclick="showGallery()">Siguiente</button>
      </div>
    </div>

    <!-- GALER√çA -->
    <div id="galleryScreen" class="hidden">
      <div class="progress">Paso 4.5 / 5</div>
      <h1 style="text-align:center; font-weight:400; letter-spacing:2px;">Una peque√±a galer√≠a</h1>
      <p style="text-align:center; color:rgba(255,255,255,0.7); margin-top:12px;">
        Unos peque√±os momentos... que se sienten como t√∫.
      </p>

      <div class="carousel">
        <img id="carouselImg" src="foto1.jpg" alt="foto">
      </div>

      <div class="btns">
        <button onclick="prevImg()">Anterior</button>
        <button onclick="nextImg()">Siguiente</button>
      </div>

      <div class="btns">
        <button onclick="goToFinal()">Continuar</button>
      </div>
    </div>

    <!-- FINAL -->
    <div id="finalScreen" class="hidden">
      <div class="progress">Paso 5 / 5</div>

      <p style="text-align:center; color:rgba(255,255,255,0.7);">
        Y ahora... tengo que preguntarte algo muy importante.
      </p>

      <div class="final-question">¬øQuieres ser mi San Valent√≠n?</div>

      <div class="final-buttons">
        <button id="yesBtn" onclick="sayYes()">S√≠</button>
        <button id="noBtn">No</button>
      </div>

      <p style="text-align:center; color:rgba(255,255,255,0.45); margin-top:12px;">
        (Puedes intentar presionar "No"... si es que puedes )
      </p>
    </div>

    <!-- SUCCESS -->
    <div id="successScreen" class="hidden center">
      <div class="main-title" style="font-size:clamp(2.5rem, 6vw, 3.5rem);">Dijiste que s√≠ ü§ç</div>
      <div class="subtitle" id="datePlan"></div>

      <div class="btns">
        <button onclick="restart()">Repetir</button>
      </div>
    </div>

  </div>

  <script>
    // Part√≠culas
    function createParticle(){
      const p = document.createElement("div");
      p.classList.add("particle");
      p.style.left = Math.random() * 100 + "vw";
      p.style.bottom = "-10px";
      p.style.animationDuration = (Math.random() * 3 + 6) + "s";
      document.body.appendChild(p);
      setTimeout(() => p.remove(), 9000);
    }
    setInterval(createParticle, 250);

    // Corazones flotando
    function createHeart(){
      const h = document.createElement("div");
      h.classList.add("heart");
      h.innerHTML = "ü§ç";
      h.style.left = Math.random() * 100 + "vw";
      h.style.bottom = "-10px";
      h.style.animationDuration = (Math.random() * 4 + 6) + "s";
      h.style.fontSize = (Math.random() * 12 + 14) + "px";
      document.body.appendChild(h);
      setTimeout(() => h.remove(), 10000);
    }
    setInterval(createHeart, 650);

    // Lluvia de corazones
    function heartRain(){
      for(let i = 0; i < 35; i++){
        setTimeout(() => {
          const heart = document.createElement("div");
          heart.classList.add("falling-heart");
          heart.innerHTML = "ü§ç";
          heart.style.left = Math.random() * 100 + "vw";
          heart.style.fontSize = (Math.random() * 18 + 16) + "px";
          document.body.appendChild(heart);
          setTimeout(() => heart.remove(), 4000);
        }, i * 120);
      }
    }

    // Galer√≠a
    const fotos = ["foto1.jpg", "foto2.jpg", "foto3.jpg"];
    let currentImg = 0;

    function hideAll(){
      document.getElementById("screen1").classList.add("hidden");
      document.getElementById("screenLetter").classList.add("hidden");
      document.getElementById("screen2").classList.add("hidden");
      document.getElementById("path1").classList.add("hidden");
      document.getElementById("path2").classList.add("hidden");
      document.getElementById("path3").classList.add("hidden");
      document.getElementById("quizScreen").classList.add("hidden");
      document.getElementById("galleryScreen").classList.add("hidden");
      document.getElementById("finalScreen").classList.add("hidden");
      document.getElementById("successScreen").classList.add("hidden");
    }

    function goToLetter(){
      hideAll();
      document.getElementById("screenLetter").classList.remove("hidden");
    }

    function openLetter(){
      document.getElementById("envelope").classList.toggle("open");
    }

    function goToChoices(){
      hideAll();
      document.getElementById("screen2").classList.remove("hidden");
    }

    function choosePath(path){
      hideAll();
      document.getElementById(path).classList.remove("hidden");
    }

    function goToQuiz(){
      hideAll();
      document.getElementById("quizScreen").classList.remove("hidden");
    }

    function showGallery(){
      hideAll();
      document.getElementById("galleryScreen").classList.remove("hidden");
    }

    function goToFinal(){
      hideAll();
      document.getElementById("finalScreen").classList.remove("hidden");
      activateNoButton();
    }

    function restart(){
      hideAll();
      document.getElementById("screen1").classList.remove("hidden");
      stopFireworks();
      document.body.classList.remove("glow");
    }

    function updateCarousel(){
      document.getElementById("carouselImg").src = fotos[currentImg];
    }

    function nextImg(){
      currentImg++;
      if(currentImg >= fotos.length) currentImg = 0;
      updateCarousel();
    }

    function prevImg(){
      currentImg--;
      if(currentImg < 0) currentImg = fotos.length - 1;
      updateCarousel();
    }

    // Bot√≥n No huye
    function activateNoButton(){
      const noBtn = document.getElementById("noBtn");
      const container = document.querySelector(".container");

      function moveNo(){
        const containerRect = container.getBoundingClientRect();
        const btnRect = noBtn.getBoundingClientRect();

        const maxX = containerRect.width - btnRect.width - 20;
        const maxY = 90;

        const randomX = Math.random() * maxX;
        const randomY = Math.random() * maxY;

        noBtn.style.left = randomX + "px";
        noBtn.style.top = randomY + "px";
      }

      noBtn.onmouseover = moveNo;
      noBtn.onclick = moveNo;
      noBtn.ontouchstart = moveNo;
    }

    // M√∫sica
    let musicPlaying = false;
    function toggleMusic(){
      const music = document.getElementById("bgMusic");
      if(!musicPlaying){
        music.play();
        musicPlaying = true;
      }else{
        music.pause();
        musicPlaying = false;
      }
    }

    // S√≠
    function sayYes(){
      const answer = document.getElementById("answer").value.trim();
      hideAll();

      const bell = document.getElementById("bellSound");
      bell.currentTime = 0;
      bell.play();

      document.body.classList.add("glow");

      const success = document.getElementById("successScreen");
      success.classList.remove("hidden");

      success.classList.remove("success-anim");
      void success.offsetWidth;
      success.classList.add("success-anim");

      if(answer.length > 0){
        document.getElementById("datePlan").innerHTML =
          `Entonces... nuestra cita ser√°: <b>${answer}</b>`;
      }else{
        document.getElementById("datePlan").innerHTML =
          `Entonces... yo eligo el plan pero siempre contigo.`;
      }

      heartRain();
      startFireworks();
    }

    // Fuegos artificiales
    const canvas = document.getElementById("fireworksCanvas");
    const ctx = canvas.getContext("2d");
    let particles = [];
    let fireworksActive = false;

    function resizeCanvas(){
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    function random(min, max){
      return Math.random() * (max - min) + min;
    }

    function createFirework(){
      const x = random(100, canvas.width - 100);
      const y = random(100, canvas.height / 2);

      for(let i=0; i<90; i++){
        particles.push({
          x,
          y,
          vx: random(-4.5, 4.5),
          vy: random(-4.5, 4.5),
          life: random(40, 80)
        });
      }
    }

    function drawParticles(){
      ctx.clearRect(0,0,canvas.width,canvas.height);

      particles.forEach((p, index) => {
        p.x += p.vx;
        p.y += p.vy;
        p.life -= 1;

        ctx.beginPath();
        ctx.arc(p.x, p.y, 2.2, 0, Math.PI*2);
        ctx.fillStyle = "rgba(255,255,255,0.85)";
        ctx.fill();

        if(p.life <= 0){
          particles.splice(index, 1);
        }
      });

      if(fireworksActive){
        requestAnimationFrame(drawParticles);
      }
    }

    function startFireworks(){
      fireworksActive = true;
      canvas.classList.remove("hidden");

      const interval = setInterval(() => {
        if(!fireworksActive){
          clearInterval(interval);
        }else{
          createFirework();
        }
      }, 900);

      drawParticles();
    }

    function stopFireworks(){
      fireworksActive = false;
      particles = [];
      canvas.classList.add("hidden");
      ctx.clearRect(0,0,canvas.width,canvas.height);
    }
  </script>

</body>
</html>
